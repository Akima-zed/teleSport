<!-- =========================================================
  HomeComponent Template
  -------------------------------------------------------------
  Objectif :
  - Afficher un tableau de bord synth√©tique (m√©dailles par pays)
  - G√©rer les √©tats : chargement, erreur, donn√©es pr√™tes
  - Proposer un tri dynamique et une navigation vers le d√©tail
========================================================= -->

<!-- üîπ Header r√©utilisable global -->
<app-header
  [title]="titlePage"
  [indicators]="headerIndicators">
</app-header>

<!-- üîπ Section introductive -->
<section class="intro">
  <p>
    Ce tableau de bord pr√©sente le nombre total de m√©dailles remport√©es
    par chaque pays depuis la cr√©ation des Jeux Olympiques modernes.
    Cliquez sur un pays du graphique pour consulter le d√©tail
    de ses participations.
  </p>
</section>

<!-- üîπ S√©lecteur de tri -->
<section class="sort-container">
  <label for="sort">Trier par :</label>
  <select
    id="sort"
    [(ngModel)]="sortBy"
    (change)="onSortChange()"
    aria-label="S√©lecteur de tri des pays">
    <option value="totalMedals">Total des m√©dailles</option>
    <option value="alphabetical">Alphab√©tique</option>
  </select>
</section>

<!-- üîπ √âtat : chargement -->
<section *ngIf="isLoading" class="loading-container" role="status" aria-live="polite">
  <div class="spinner"></div>
  <p>Chargement des donn√©es...</p>
</section>

<!-- üîπ √âtat : erreur -->
<section *ngIf="error" class="error-message" role="alert">
  <p>‚ùå {{ error }}</p>
  <button
    class="retry-btn"
    (click)="reload()"
    aria-label="R√©essayer le chargement">
    R√©essayer
  </button>
</section>

<!-- üîπ √âtat : donn√©es pr√™tes -->
<section *ngIf="!isLoading && !error" class="chart-section">
  <app-chart

  [type]="'pie'"
  [labels]="chartLabels"
  [data]="chartData"
  chartDescription="Graphique en secteurs illustrant la r√©partition des m√©dailles par pays depuis la cr√©ation des Jeux Olympiques modernes."
  (chartClick)="onChartClick($event)">
</app-chart>
</section>
